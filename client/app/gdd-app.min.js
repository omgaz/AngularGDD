/*! gdd-app 31-03-2014 */
var characterServices=angular.module("gddApp.characters.service",["ngResource"]);characterServices.factory("Character",["$resource",function(a){return a("/api/characters/:id",{id:"@id"})}]),characterServices.factory("MultipleCharacterLoader",["Character","$q",function(a,b){return function(){var c=b.defer();return a.query(function(a){c.resolve(a)},function(){c.reject("Unable to fetch characters")}),c.promise}}]),characterServices.factory("CharacterLoader",["Character","$route","$q",function(a,b,c){return function(){var d=c.defer();return a.get({id:b.current.params.characterId},function(a){d.resolve(a)},function(){d.reject("Unable to fetch character "+b.current.params.characterId)}),d.promise}}]);var charactersModule=angular.module("gddApp.characters",["ngRoute","gddApp.characters.service"]);charactersModule.config(["$routeProvider",function(a){a.when("/characters",{templateUrl:"../templates/characters/list.tpl.html",controller:"CharactersListCtrl",resolve:{characters:["MultipleCharacterLoader",function(a){return a()}]}})}]),charactersModule.controller("CharactersListCtrl",["$scope","characters",function(a,b){a.characters=b,console.log("characters",b),a.viewCharacter=function(a){$location.path("/characters/"+a.$id())}}]);var gddApp=angular.module("gddApp",["ngRoute","ngResource","gddApp.characters"]);gddApp.config(["$routeProvider","$locationProvider",function(a){a.otherwise({redirectTo:"/characters"})}]),gddApp.controller("GDDAppCtrl",["$scope",function(){}]),gddApp.controller("HeaderCtrl",["$scope","$location","$route",function(a,b){a.location=b,a.appInfo={name:"GDD"},a.home=function(){b.path("/characters")}}]);